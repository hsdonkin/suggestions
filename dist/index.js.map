{"mappings":"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","sources":["src/index.js","src/Suggestions.js","src/list.js"],"sourcesContent":["import Suggestions from './Suggestions';\nimport List from './list';\n\nif (typeof window !== 'undefined') {\n  window.Suggestions = Suggestions;\n}\n\nexport default Suggestions;\n","'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\n\nclass Suggestions {\n  constructor(el, data, options) {\n    options = options || {};\n\n    this.options = extend(\n      {\n        minLength: 2,\n        limit: 5,\n        filter: true,\n        hideOnBlur: true,\n      },\n      options\n    );\n\n    this.el = el;\n    this.data = data || [];\n    this.list = new List(this);\n\n    // set aria attribuets on el\n    this.el.setAttribute('role', 'combobox');\n    this.el.setAttribute('aria-autocomplete', 'list');\n    this.el.setAttribute('aria-controls', this.list.id);\n\n    this.query = '';\n    this.selected = null;\n\n    this.list.draw();\n\n    this.el.addEventListener(\n      'keyup',\n      function (e) {\n        this.handleKeyUp(e.keyCode);\n      }.bind(this),\n      false\n    );\n\n    this.el.addEventListener(\n      'keydown',\n      function (e) {\n        this.handleKeyDown(e);\n      }.bind(this)\n    );\n\n    this.el.addEventListener(\n      'focus',\n      function () {\n        this.handleFocus();\n      }.bind(this)\n    );\n\n    this.el.addEventListener(\n      'blur',\n      function () {\n        this.handleBlur();\n      }.bind(this)\n    );\n\n    this.el.addEventListener(\n      'paste',\n      function (e) {\n        this.handlePaste(e);\n      }.bind(this)\n    );\n\n    // use user-provided render function if given, otherwise just use the default\n    this.render = this.options.render ? this.options.render.bind(this) : this.render.bind(this);\n\n    this.getItemValue = this.options.getItemValue\n      ? this.options.getItemValue.bind(this)\n      : this.getItemValue.bind(this);\n  }\n\n  handleKeyUp = function (keyCode) {\n    // 40 - DOWN\n    // 38 - UP\n    // 27 - ESC\n    // 13 - ENTER\n    // 9 - TAB\n\n    if (keyCode === 40 || keyCode === 38 || keyCode === 27 || keyCode === 13 || keyCode === 9)\n      return;\n\n    this.handleInputChange(this.el.value);\n  };\n\n  handleKeyDown = function (e) {\n    switch (e.keyCode) {\n      case 13: // ENTER\n      case 9: // TAB\n        if (!this.list.isEmpty()) {\n          if (this.list.isVisible()) {\n            e.preventDefault();\n          }\n          this.value(this.list.items[this.list.active].original);\n          this.list.hide();\n        }\n        break;\n      case 27: // ESC\n        if (!this.list.isEmpty()) this.list.hide();\n        break;\n      case 38: // UP\n        this.list.previous();\n        break;\n      case 40: // DOWN\n        this.list.next();\n        break;\n    }\n  };\n\n  handleBlur = function () {\n    if (!this.list.selectingListItem && this.options.hideOnBlur) {\n      this.list.hide();\n    }\n  };\n\n  handlePaste = function (e) {\n    if (e.clipboardData) {\n      this.handleInputChange(e.clipboardData.getData('Text'));\n    } else {\n      var self = this;\n      setTimeout(function () {\n        self.handleInputChange(e.target.value);\n      }, 100);\n    }\n  };\n\n  handleInputChange = function (query) {\n    this.query = this.normalize(query);\n\n    this.list.clear();\n\n    if (this.query.length < this.options.minLength) {\n      this.list.draw();\n      return;\n    }\n\n    this.getCandidates(\n      function (data) {\n        for (var i = 0; i < data.length; i++) {\n          this.list.add(data[i]);\n          if (i === this.options.limit - 1) break;\n        }\n        this.list.draw();\n      }.bind(this)\n    );\n  };\n\n  handleFocus = function () {\n    if (!this.list.isEmpty()) this.list.show();\n    this.list.selectingListItem = false;\n  };\n\n  /**\n   * Update data previously passed\n   *\n   * @param {Array} revisedData\n   */\n  update = function (revisedData) {\n    this.data = revisedData;\n    this.handleKeyUp();\n  };\n\n  /**\n   * Clears data\n   */\n  clear = function () {\n    this.data = [];\n    this.list.clear();\n  };\n\n  /**\n   * Normalize the results list and input value for matching\n   *\n   * @param {String} value\n   * @return {String}\n   */\n  normalize = function (value) {\n    value = value.toLowerCase();\n    return value;\n  };\n\n  /**\n   * Evaluates whether an array item qualifies as a match with the current query\n   *\n   * @param {String} candidate a possible item from the array passed\n   * @param {String} query the current query\n   * @return {Boolean}\n   */\n  match = function (candidate, query) {\n    return candidate.indexOf(query) > -1;\n  };\n\n  value = function (value) {\n    this.selected = value;\n    this.el.value = this.getItemValue(value);\n\n    if (document.createEvent) {\n      var e = document.createEvent('HTMLEvents');\n      e.initEvent('change', true, false);\n      this.el.dispatchEvent(e);\n    } else {\n      this.el.fireEvent('onchange');\n    }\n  };\n\n  getCandidates = function (callback) {\n    var options = {\n      pre: '<strong>',\n      post: '</strong>',\n      extract: function (d) {\n        return this.getItemValue(d);\n      }.bind(this),\n    };\n    var results;\n    if (this.options.filter) {\n      results = fuzzy.filter(this.query, this.data, options);\n\n      results = results.map(\n        function (item) {\n          return {\n            original: item.original,\n            string: this.render(item.original, item.string),\n          };\n        }.bind(this)\n      );\n    } else {\n      results = this.data.map(\n        function (d) {\n          var renderedString = this.render(d);\n          return {\n            original: d,\n            string: renderedString,\n          };\n        }.bind(this)\n      );\n    }\n    callback(results);\n  };\n\n  /**\n   * For a given item in the data array, return what should be used as the candidate string\n   *\n   * @param {Object|String} item an item from the data array\n   * @return {String} item\n   */\n  getItemValue = function (item) {\n    return item;\n  };\n\n  /**\n   * For a given item in the data array, return a string of html that should be rendered in the dropdown\n   * @param {Object|String} item an item from the data array\n   * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function\n   * @return {String} html\n   */\n  render = function (item, sourceFormatting) {\n    if (sourceFormatting) {\n      // use existing formatting on the source string\n      return sourceFormatting;\n    }\n    var boldString = item.original ? this.getItemValue(item.original) : this.getItemValue(item);\n    var indexString = this.normalize(boldString);\n    var indexOfQuery = indexString.lastIndexOf(this.query);\n    while (indexOfQuery > -1) {\n      var endIndexOfQuery = indexOfQuery + this.query.length;\n      boldString =\n        boldString.slice(0, indexOfQuery) +\n        '<strong>' +\n        boldString.slice(indexOfQuery, endIndexOfQuery) +\n        '</strong>' +\n        boldString.slice(endIndexOfQuery);\n      indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n    }\n    return boldString;\n  };\n\n  /**\n   * Render an custom error message in the suggestions list\n   * @param {String} msg An html string to render as an error message\n   */\n  renderError = function (msg) {\n    this.list.drawError(msg);\n  };\n}\n\nmodule.exports = Suggestions;\n","class List {\n  constructor(component) {\n    this.component = component;\n    this.id = 'suggestions-' + Math.random().toString(36).substr(2, 16);\n    this.items = [];\n    this.active = 0;\n    this.wrapper = document.createElement('div');\n    this.wrapper.className = 'suggestions-wrapper';\n\n    this.element = document.createElement('ul');\n    this.element.className = 'suggestions';\n    this.element.id = this.id;\n    this.element.setAttribute('role', 'listbox');\n    this.element.setAttribute('aria-label', 'Results');\n\n    this.wrapper.appendChild(this.element);\n    this.selectingListItem = false;\n    component.el.parentNode.insertBefore(this.wrapper, component.el.nextSibling);\n  }\n\n  show() {\n    this.element.style.display = 'block';\n  }\n\n  hide() {\n    this.element.style.display = 'none';\n  }\n\n  add(item) {\n    this.items.push(item);\n  }\n\n  clear() {\n    this.items = [];\n    this.active = 0;\n  }\n\n  isEmpty() {\n    return !this.items.length;\n  }\n\n  isVisible() {\n    return this.element.style.display === 'block';\n  }\n\n  draw() {\n    this.element.innerHTML = '';\n\n    if (this.items.length === 0) {\n      this.hide();\n      return;\n    }\n\n    for (let i = 0; i < this.items.length; i++) {\n      this.drawItem(this.items[i], this.active === i);\n    }\n\n    this.show();\n  }\n\n  drawItem(item, active) {\n    const li = document.createElement('li');\n    const a = document.createElement('a');\n\n    const id = this.id + '-' + this.items.indexOf(item);\n    li.setAttribute('id', id);\n    li.setAttribute('role', 'option');\n\n    if (active) {\n      this.component.el.setAttribute('aria-activedescendant', id);\n      li.className += ' active';\n      li.setAttribute('aria-selected', 'true');\n    }\n\n    a.innerHTML = item.string;\n    a.setAttribute('aria-label', a.textContent);\n\n    li.appendChild(a);\n    this.element.appendChild(li);\n\n    li.addEventListener('mousedown', () => {\n      this.selectingListItem = true;\n    });\n\n    li.addEventListener('mouseup', () => {\n      this.handleMouseUp(item);\n    });\n  }\n\n  handleMouseUp(item) {\n    this.selectingListItem = false;\n    this.component.value(item.original);\n    this.clear();\n    this.draw();\n  }\n\n  move(index) {\n    this.active = index;\n    this.draw();\n  }\n\n  previous() {\n    this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n  }\n\n  next() {\n    this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n  }\n\n  drawError(msg) {\n    const li = document.createElement('li');\n    li.innerHTML = msg;\n    this.element.appendChild(li);\n    this.show();\n  }\n}\n\nmodule.exports = List;\n"],"names":[],"version":3,"file":"index.js.map"}