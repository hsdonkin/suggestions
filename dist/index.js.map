{"mappings":"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","sources":["index.js","src/suggestions.js","src/list.js"],"sourcesContent":["'use strict';\n\n/**\n * A typeahead component for inputs\n * @class Suggestions\n *\n * @param {HTMLInputElement} el A valid HTML input element\n * @param {Array} data An array of data used for results\n * @param {Object} options\n * @param {Number} [options.limit=5] Max number of results to display in the auto suggest list.\n * @param {Number} [options.minLength=2] Number of characters typed into an input to trigger suggestions.\n * @param {Boolean} [options.hideOnBlur=true] If `true`, hides the suggestions when focus is lost.\n * @return {Suggestions} `this`\n * @example\n * // in the browser\n * var input = document.querySelector('input');\n * var data = [\n *   'Roy Eldridge',\n *   'Roy Hargrove',\n *   'Rex Stewart'\n * ];\n *\n * new Suggestions(input, data);\n *\n * // with options\n * var input = document.querySelector('input');\n * var data = [{\n *   name: 'Roy Eldridge',\n *   year: 1911\n * }, {\n *   name: 'Roy Hargrove',\n *   year: 1969\n * }, {\n *   name: 'Rex Stewart',\n *   year: 1907\n * }];\n *\n * var typeahead = new Suggestions(input, data, {\n *   filter: false, // Disable filtering\n *   minLength: 3, // Number of characters typed into an input to trigger suggestions.\n *   limit: 3, //  Max number of results to display.\n *   hideOnBlur: false // Don't hide results when input loses focus\n * });\n *\n * // As we're passing an object of an arrays as data, override\n * // `getItemValue` by specifying the specific property to search on.\n * typeahead.getItemValue = function(item) { return item.name };\n *\n * input.addEventListener('change', function() {\n *   console.log(typeahead.selected); // Current selected item.\n * });\n *\n * // With browserify\n * var Suggestions = require('suggestions');\n *\n * new Suggestions(input, data);\n */\nvar Suggestions = require('./src/suggestions');\nmodule.exports = Suggestions;\n\nif (typeof window !== 'undefined') {\n  window.Suggestions = Suggestions;\n}\n","'use strict';\n\nvar extend = require('xtend');\nvar fuzzy = require('fuzzy');\nvar List = require('./list');\n\nvar Suggestions = function(el, data, options) {\n  options = options || {};\n\n  this.options = extend({\n    minLength: 2,\n    limit: 5,\n    filter: true,\n    hideOnBlur: true\n  }, options);\n\n  this.el = el;\n  this.data = data || [];\n  this.list = new List(this);\n\n  this.query = '';\n  this.selected = null;\n\n  this.list.draw();\n\n  this.el.addEventListener('keyup', function(e) {\n    this.handleKeyUp(e.keyCode);\n  }.bind(this), false);\n\n  this.el.addEventListener('keydown', function(e) {\n    this.handleKeyDown(e);\n  }.bind(this));\n\n  this.el.addEventListener('focus', function() {\n    this.handleFocus();\n  }.bind(this));\n\n  this.el.addEventListener('blur', function() {\n    this.handleBlur();\n  }.bind(this));\n\n  this.el.addEventListener('paste', function(e) {\n    this.handlePaste(e);\n  }.bind(this));\n\n  // use user-provided render function if given, otherwise just use the default\n  this.render = (this.options.render) ? this.options.render.bind(this) : this.render.bind(this)\n\n  this.getItemValue = (this.options.getItemValue) ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this);\n\n  return this;\n};\n\nSuggestions.prototype.handleKeyUp = function(keyCode) {\n  // 40 - DOWN\n  // 38 - UP\n  // 27 - ESC\n  // 13 - ENTER\n  // 9 - TAB\n\n  if (keyCode === 40 ||\n      keyCode === 38 ||\n      keyCode === 27 ||\n      keyCode === 13 ||\n      keyCode === 9) return;\n\n  this.handleInputChange(this.el.value);\n};\n\nSuggestions.prototype.handleKeyDown = function(e) {\n  switch (e.keyCode) {\n    case 13: // ENTER\n    case 9: // TAB\n      if (!this.list.isEmpty()) {\n        if (this.list.isVisible()) {\n          e.preventDefault();\n        }\n        this.value(this.list.items[this.list.active].original);\n        this.list.hide();\n      }\n    break;\n    case 27: // ESC\n      if (!this.list.isEmpty()) this.list.hide();\n    break;\n    case 38: // UP\n      this.list.previous();\n    break;\n    case 40: // DOWN\n      this.list.next();\n    break;\n  }\n};\n\nSuggestions.prototype.handleBlur = function() {\n  if (!this.list.selectingListItem && this.options.hideOnBlur) {\n    this.list.hide();\n  }\n};\n\nSuggestions.prototype.handlePaste = function(e) {\n  if (e.clipboardData) {\n    this.handleInputChange(e.clipboardData.getData('Text'));\n  } else {\n    var self = this;\n    setTimeout(function () {\n      self.handleInputChange(e.target.value);\n    }, 100);\n  }\n};\n\nSuggestions.prototype.handleInputChange = function(query) {\n  this.query = this.normalize(query);\n\n  this.list.clear();\n\n  if (this.query.length < this.options.minLength) {\n    this.list.draw();\n    return;\n  }\n\n  this.getCandidates(function(data) {\n    for (var i = 0; i < data.length; i++) {\n      this.list.add(data[i]);\n      if (i === (this.options.limit - 1)) break;\n    }\n    this.list.draw();\n  }.bind(this));\n};\n\nSuggestions.prototype.handleFocus = function() {\n  if (!this.list.isEmpty()) this.list.show();\n  this.list.selectingListItem = false;\n};\n\n/**\n * Update data previously passed\n *\n * @param {Array} revisedData\n */\nSuggestions.prototype.update = function(revisedData) {\n  this.data = revisedData;\n  this.handleKeyUp();\n};\n\n/**\n * Clears data\n */\nSuggestions.prototype.clear = function() {\n  this.data = [];\n  this.list.clear();\n};\n\n/**\n * Normalize the results list and input value for matching\n *\n * @param {String} value\n * @return {String}\n */\nSuggestions.prototype.normalize = function(value) {\n  value = value.toLowerCase();\n  return value;\n};\n\n/**\n * Evaluates whether an array item qualifies as a match with the current query\n *\n * @param {String} candidate a possible item from the array passed\n * @param {String} query the current query\n * @return {Boolean}\n */\nSuggestions.prototype.match = function(candidate, query) {\n  return candidate.indexOf(query) > -1;\n};\n\nSuggestions.prototype.value = function(value) {\n  this.selected = value;\n  this.el.value = this.getItemValue(value);\n\n  if (document.createEvent) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent('change', true, false);\n    this.el.dispatchEvent(e);\n  } else {\n    this.el.fireEvent('onchange');\n  }\n};\n\nSuggestions.prototype.getCandidates = function(callback) {\n  var options = {\n    pre: '<strong>',\n    post: '</strong>',\n    extract: function(d) { return this.getItemValue(d); }.bind(this)\n  };\n  var results;\n  if(this.options.filter){\n    results = fuzzy.filter(this.query, this.data, options);\n\n    results = results.map(function(item){\n      return {\n        original: item.original,\n        string: this.render(item.original, item.string)\n      };\n    }.bind(this))\n  }else{\n    results = this.data.map(function(d) {\n      var renderedString = this.render(d);\n      return {\n        original: d,\n        string: renderedString\n      };\n    }.bind(this));\n  }\n  callback(results);\n};\n\n/**\n * For a given item in the data array, return what should be used as the candidate string\n *\n * @param {Object|String} item an item from the data array\n * @return {String} item\n */\nSuggestions.prototype.getItemValue = function(item) {\n  return item;\n};\n\n/**\n * For a given item in the data array, return a string of html that should be rendered in the dropdown\n * @param {Object|String} item an item from the data array\n * @param {String} sourceFormatting a string that has pre-formatted html that should be passed directly through the render function \n * @return {String} html\n */\nSuggestions.prototype.render = function(item, sourceFormatting) {\n  if (sourceFormatting){\n    // use existing formatting on the source string\n    return sourceFormatting;\n  }\n  var boldString = (item.original) ? this.getItemValue(item.original) : this.getItemValue(item);\n  var indexString = this.normalize(boldString);\n  var indexOfQuery = indexString.lastIndexOf(this.query);\n  while (indexOfQuery > -1) {\n    var endIndexOfQuery = indexOfQuery + this.query.length;\n    boldString = boldString.slice(0, indexOfQuery) + '<strong>' + boldString.slice(indexOfQuery, endIndexOfQuery) + '</strong>' + boldString.slice(endIndexOfQuery);\n    indexOfQuery = indexString.slice(0, indexOfQuery).lastIndexOf(this.query);\n  }\n  return boldString\n}\n\n/**\n * Render an custom error message in the suggestions list\n * @param {String} msg An html string to render as an error message\n */\nSuggestions.prototype.renderError = function(msg){\n  this.list.drawError(msg);\n}\n\nmodule.exports = Suggestions;\n","'use strict';\n\nvar List = function(component) {\n  this.component = component;\n  this.items = [];\n  this.active = 0;\n  this.wrapper = document.createElement('div');\n  this.wrapper.className = 'suggestions-wrapper';\n  this.element = document.createElement('ul');\n  this.element.className = 'suggestions';\n  this.wrapper.appendChild(this.element);\n\n  // selectingListItem is set to true in the time between the mousedown and mouseup when clicking an item in the list\n  // mousedown on a list item will cause the input to blur which normally hides the list, so this flag is used to keep\n  // the list open until the mouseup\n  this.selectingListItem = false;\n\n  component.el.parentNode.insertBefore(this.wrapper, component.el.nextSibling);\n  return this;\n};\n\nList.prototype.show = function() {\n  this.element.style.display = 'block';\n};\n\nList.prototype.hide = function() {\n  this.element.style.display = 'none';\n};\n\nList.prototype.add = function(item) {\n  this.items.push(item);\n};\n\nList.prototype.clear = function() {\n  this.items = [];\n  this.active = 0;\n};\n\nList.prototype.isEmpty = function() {\n  return !this.items.length;\n};\n\nList.prototype.isVisible = function() {\n  return this.element.style.display === 'block';\n};\n\nList.prototype.draw = function() {\n  this.element.innerHTML = '';\n\n  if (this.items.length === 0) {\n    this.hide();\n    return;\n  }\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.drawItem(this.items[i], this.active === i);\n  }\n\n  this.show();\n};\n\nList.prototype.drawItem = function(item, active) {\n  var li = document.createElement('li'),\n    a = document.createElement('a');\n\n  if (active) li.className += ' active';\n\n  a.innerHTML = item.string;\n\n  li.appendChild(a);\n  this.element.appendChild(li);\n\n  li.addEventListener('mousedown', function() {\n    this.selectingListItem = true;\n  }.bind(this));\n\n  li.addEventListener('mouseup', function() {\n    this.handleMouseUp.call(this, item);\n  }.bind(this));\n};\n\nList.prototype.handleMouseUp = function(item) {\n  this.selectingListItem = false;\n  this.component.value(item.original);\n  this.clear();\n  this.draw();\n};\n\nList.prototype.move = function(index) {\n  this.active = index;\n  this.draw();\n};\n\nList.prototype.previous = function() {\n  this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n};\n\nList.prototype.next = function() {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n};\n\nList.prototype.drawError = function(msg){\n  var li = document.createElement('li');\n\n  li.innerHTML = msg;\n\n  this.element.appendChild(li);\n  this.show();\n}\n\nmodule.exports = List;\n"],"names":[],"version":3,"file":"index.js.map"}